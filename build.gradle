/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

plugins {
    id 'java-library'
    id "me.tatarka.retrolambda" version "3.7.0"
    id 'maven-publish'
}

repositories {
    jcenter()
    mavenCentral()
}


group = 'de.hsmainz.iiwa'
// artifactId is taken by default, from folder name
version = '0.1-SNAPSHOT'

dependencies {
    testImplementation  'junit:junit:4.12'


    //Dependencies for Logging
    // https://mvnrepository.com/artifact/org.slf4j/slf4j-api
    implementation group: 'org.slf4j', name: 'slf4j-api', version: '1.7.25'
    // https://mvnrepository.com/artifact/ch.qos.logback/logback-classic
    implementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'
}


test {
    testLogging.showStandardStreams = true
    useJUnit()

    minHeapSize = "128m"
    maxHeapSize = "512m"

    maxParallelForks = 1
}

publishing {

    publications {

        mavenJava(MavenPublication) {

            artifactId = 'AsyncService'

            from components.java
            pom {

                name = 'AsyncService'
                description = 'Async execution for iiwa robots'
                licenses {
                    license {
                        name = 'The Apache License, Version 2.0'
                        url = 'http://www.apache.org/licenses/LICENSE-2.0.txt'
                    }
                }
                developers {
                    developer {
                        id = 'jonaohland'
                        name = 'Jonas Ohland'
                        email = 'jonas.ohland@hs-mainz.de'
                    }
                }
            }
        }
    }

    repositories {
        maven {
            name = "gitlab-maven"
            url = "https://gitlab.rlp.net/api/v4/projects/2220/packages/maven"

        }
    }
}